@using Models.Characters
@using UI.Conveniences

<SheetCard @bind-IsFixMode="IsFixMode" Header="Dossier">
	<MudStack>
		<MudGrid>
			<MudItem xs="8">
				<MudTextField @bind-Value="Dossier.Name" id="Dossier.Name" Label="Name" ReadOnly="!IsFixMode" DisableUnderLine="!IsFixMode" Variant="Variant" />
			</MudItem>
			<MudItem xs="4">
				<MudTextField @bind-Value="Dossier.Alias" id="Dossier.Alias" Label="@AliasSynonym" ReadOnly="!IsFixMode" DisableUnderLine="!IsFixMode" Variant="Variant" />
			</MudItem>
		</MudGrid>
		<MudTextField @bind-Value="Dossier.Background.Description" id="Dossier.Background.Description" Label="@BackgroundLabel" ReadOnly="!IsFixMode" DisableUnderLine="!IsFixMode" Lines="3" Variant="Variant" />
		<MudTextField @bind-Value="Dossier.Heritage.Description" id="Dossier.Heritage.Description" Label="@HeritageLabel" ReadOnly="!IsFixMode" DisableUnderLine="!IsFixMode" Lines="3" Variant="Variant" />
		<MudTextField @bind-Value="Dossier.Vice.Description" id="Dossier.Vice.Description" Label="@ViceLabel" ReadOnly="!IsFixMode" DisableUnderLine="!IsFixMode" Lines="3" Variant="Variant" />
		<MudTextField @bind-Value="Dossier.Look" id="Dossier.Look" Label="Look" ReadOnly="!IsFixMode" DisableUnderLine="!IsFixMode" Lines="3" Variant="Variant" />
	</MudStack>
</SheetCard>

@code
{
	[Parameter, EditorRequired]
	public Dossier Dossier { get; set; } = new();

	[Parameter]
	public string AliasSynonym { get; set; } = Models.Settings.Constants.DefaultNames.Alias;

	bool IsFixMode { get; set; } = false;

	string BackgroundLabel =>
		$"Background: {Dossier.Background.Name}";

	string HeritageLabel =>
		$"Heritage: {Dossier.Heritage.Name}";

	string ViceLabel =>
		$"Vice: {Dossier.Vice.Name}";

	Variant Variant =>
		IsFixMode ? Variant.Outlined
		: Variant.Text;
}
