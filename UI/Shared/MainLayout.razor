@using static UI.Constants;
@inherits LayoutComponentBase

<MudThemeProvider IsDarkMode="true" Theme="BladesTheme"/>

<MudLayout>
	<MudAppBar Elevation="1">
		<MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@((e) => DrawerToggle())" />
		<MudText Typo="Typo.h5" Class="ml-3">Blades in the Sheets</MudText>
		<MudImage Src="icon-192.png" ObjectFit="ObjectFit.ScaleDown" Alt="Icon of a blade piercing a character sheet" Style="@IconStyle" />
	</MudAppBar>
	<MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
		<MudText Style="display: flex; justify-content: right; margin-right: 10px" Typo="Typo.caption">Version 9.1</MudText>
		<MudNavLink Href="">Home</MudNavLink>
		<MudNavLink Href="@Paths.Tips">Tip Jar</MudNavLink>
	</MudDrawer>
	<MudMainContent>
		@Body
	</MudMainContent>
</MudLayout>

@code
{
	bool _drawerOpen = false;

	void DrawerToggle()
	{
		_drawerOpen = !_drawerOpen;
	}

	MudTheme BladesTheme { get; } = InitializeMudTheme();

	private static MudTheme InitializeMudTheme()
	{
		var theme = new MudTheme();
		var goodPurple = theme.PaletteDark.Primary;
		theme.PaletteDark.Primary = Colors.DeepOrange.Lighten1;
		theme.PaletteDark.Tertiary = goodPurple;
		return theme;
	}

	private const string IconStyle = "margin-right: 10px; margin-left: auto; height: 80%";
}